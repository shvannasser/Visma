

<!--

@using VismasLoanCalculator.Models;
@using VismasLoanCalculator.Interface;
@inject ILoanCalculatorFactory loanCalculatorFactory;

<EditForm Model="@loanInputModel" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="amount">Loan Amount:</label>
        <InputNumber id="amount" class="form-control" @bind-Value="@loanInputModel.Amount" />
    </div>

    <div class="form-group">
        <label for="termInYears">Loan Term (Years):</label>
        <InputNumber id="termInYears" class="form-control" @bind-Value="@loanInputModel.TermInYears" />
    </div>

    <div class="form-group">
        <label for="loanType">Type of Loan:</label>
        <select @bind="@loanInputModel.LoanType" class="form-control">
            <option value="Serial">Serial Loan</option>
            <option value="Annuity">Annuity Loan</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Calculate</button>
</EditForm>

@if (MonthlyPayment != null)
{
    <LoanRepaymentSchedule MonthlyPayments="MonthlyPayment" />
}
-->



@code {
/*     private LoanInputModel loanInputModel = new LoanInputModel();
        public IEnumerable<MonthlyPaymentModel> MonthlyPayment { get; set; }
        public string ErrorMessage { get; set; }

        private void HandleValidSubmit()
            {
            if (loanInputModel.LoanType == "Annuity")
                {
                ErrorMessage = "Annuity loan calculation logic is not yet implemented.";
                MonthlyPayment = null;
            }
            else
                {
                ErrorMessage = null;
                ILoanCalculator loanCalculator = loanCalculatorFactory.Create(loanInputModel.LoanType);
                MonthlyPayment = loanCalculator.GenerateRepaymentSchedule(loanInputModel.Amount, loanInputModel.TermInYears);
            }

            StateHasChanged();
        }

        private void ResetForm()
            {
            loanInputModel = new LoanInputModel();
            MonthlyPayment = null;
            ErrorMessage = null;
    }
    */
}



